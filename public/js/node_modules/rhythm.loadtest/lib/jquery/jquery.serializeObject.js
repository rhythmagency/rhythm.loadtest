/*
 jquery.serializeObject - A jQuery plugin that serializes a form to an Object.

 Version:    1.0
 Author:     Michael Lawrence (michael.lawrence@rhythmagency.com)
 Copyright:  2013 Rhythm Interactive
 Source:     http://stackoverflow.com/questions/1184624/convert-form-data-to-js-object-with-jquery
 */

'use strict';

(function () {
	var name = 'serializeObject';

	module.exports = exports[name] = function ($) {
		$ = $ || window.$;

		var fn = function () {
			var o = {},
				a = this.serializeArray();

			$.each(a, function () {
				if (o[this.name] !== undefined) {
					if (!o[this.name].push) {
						o[this.name] = [o[this.name]];
					}
					o[this.name].push(this.value || '');
				} else {
					o[this.name] = this.value || '';
				}
			});
			return o;
		};

		$.fn[name] = fn;

		return fn;
	};
})();